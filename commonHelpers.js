import{a as E,S as w,i as v}from"./assets/vendor-a55100af.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}})();async function m(t,o){const s="42433803-c7a0d02ae3ef09aff6a01d8a3",n="https://pixabay.com/api/",e={key:s,lang:"en",order:"popular",q:t,per_page:15,page:o};return(await E.get(n,{params:e})).data}function S(t){const{largeImageURL:o,webformatURL:s,tags:n,likes:e,views:r,comments:a,downloads:L}=t;return`<li class="list-item"><a href="${o}">
            <img class="item-img" src="${s}" alt="${n}" ></a><div class="container"><p><b>Likes: </b><br>${e}</p><p><b>Views: </b><br>${r}</p><p><b>Comments: </b><br>${a}</p><p><b>Downloads: </b><br>${L}</p>
            </div></li>`}function x(t){return t.map(S).join("")}const i={formEl:document.querySelector("form"),inputEl:document.querySelector("input"),listEl:document.querySelector("ul"),loaderEl:document.querySelector(".loader"),btnLoad:document.querySelector(".btn-load")};b();let d,c,p;i.formEl.addEventListener("submit",q);i.btnLoad.addEventListener("click",P);async function q(t){if(t.preventDefault(),d=i.inputEl.value.trim(),c=1,!d){l("Empty field");return}g();try{const o=await m(d,c);o.totalHits===0&&l("Sorry, there are no images matching your search query. Please try again!"),p=Math.ceil(o.totalHits/15),i.listEl.innerHTML="",h(o.hits),y()}catch(o){l(o)}u(),f(),t.target.reset()}async function P(){c+=1,g();try{const t=await m(d,c);h(t.hits),y(),u(),f();const o=i.listEl.firstElementChild.getBoundingClientRect().height;scrollBy({behavior:"smooth",top:o*2})}catch(t){l(t)}u()}function h(t){const o=x(t);i.listEl.insertAdjacentHTML("beforeend",o)}function g(){i.loaderEl.style.display="flex"}function u(){i.loaderEl.style.display="none"}function y(){new w(".gallery a",{captions:!0,captionSelector:"img",captionPosition:"bottom",captionsData:"alt"}).on("show.simplelightbox",function(){console.log("Lightbox is shown")})}function l(t){v.error({title:"Error",message:t})}function $(){i.btnLoad.classList.remove("hidden")}function b(){i.btnLoad.classList.add("hidden")}function f(){c>=p?(b(),l("We're sorry, but you've reached the end of search results.")):$()}f();
//# sourceMappingURL=commonHelpers.js.map
